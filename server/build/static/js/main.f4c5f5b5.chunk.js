(this["webpackJsonptodo-app-react"]=this["webpackJsonptodo-app-react"]||[]).push([[0],{39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var o=n(15),c=n.n(o),r=n(6),a=n(5),i=n(2),u=n(3),d=n.n(u),s="/api/todos",l={getAll:function(){return d.a.get(s).then((function(e){return e.data}))},create:function(e){return d.a.post(s,e).then((function(e){return e.data}))},change:function(e){return console.log("change before baseurl"),d.a.put("".concat(s,"/").concat(e.id),e).then((function(e){return console.log("change promise returned"),e.data}))},remove:function(e){return d.a.delete("".concat(s,"/").concat(e.id),e).then((function(e){console.log(e)}))}},h=n(0),j=function(e){var t=e.todo,n=e.removeTodo,o=e.toggleChange;return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:Object(h.jsx)("input",{type:"checkbox",checked:t.completed,onChange:function(){return o(t)}})}),Object(h.jsx)("td",{children:t.content}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{onClick:function(){return n(t)},children:"x"})})]})},b=(n(39),function(){var e=Object(i.useState)([]),t=Object(a.a)(e,2),n=t[0],o=t[1],c=Object(i.useState)(""),u=Object(a.a)(c,2),d=u[0],s=u[1];Object(i.useEffect)((function(){l.getAll().then((function(e){o(e)}))}),[]);var b=function(e){console.log("removetodo",e),window.confirm("Do you want to remove ".concat(e.content,"?"))&&l.remove(e).then(o(n.filter((function(t){return t.id!==e.id})))).catch((function(t){window.alert('The todo "'.concat(e.content,' was already removed from the server"'))}))},f=function(e){var t=Object(r.a)(Object(r.a)({},e),{},{completed:!e.completed});console.log("changedTodo",t),l.change(t).then(o(n.map((function(e){return e.id!==t.id?e:t}))))};return Object(h.jsxs)("section",{children:[Object(h.jsx)("h1",{children:"Todos"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={content:d,completed:!1};l.create(t).then((function(e){o(n.concat(e)),s("")}))},children:[Object(h.jsx)("input",{value:d,onChange:function(e){s(e.target.value)}}),Object(h.jsx)("button",{type:"submit",children:"save"})]}),Object(h.jsx)("table",{children:Object(h.jsx)("tbody",{children:n.map((function(e){return Object(h.jsx)(j,{todo:e,removeTodo:b,toggleChange:f},e.id)}))})})]})});c.a.render(Object(h.jsx)(b,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.f4c5f5b5.chunk.js.map